\hypertarget{class_senergy_1_1_dns_1_1_utils}{\section{Senergy\-:\-:Dns\-:\-:Utils Class Reference}
\label{class_senergy_1_1_dns_1_1_utils}\index{Senergy\-::\-Dns\-::\-Utils@{Senergy\-::\-Dns\-::\-Utils}}
}


Contains various utilities related to the D\-N\-S protocol. This are mostly functions that are used throughout the application.  




{\ttfamily \#include $<$utils.\-h$>$}

\subsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
static std\-::string \hyperlink{class_senergy_1_1_dns_1_1_utils_a68f1ebf9810ecb225a4f73c4200778bf}{Encode\-Hostname} (const std\-::string \&hostname)
\begin{DoxyCompactList}\small\item\em Encodes the specified hostname and returns the result. Encoding a hostname means, replacing all dots, with single bytes, that tell how many characters one needs to count further to get to the next dot. \end{DoxyCompactList}\item 
static std\-::string \hyperlink{class_senergy_1_1_dns_1_1_utils_ad621e66ca0463aaa21c9b74b489f09f3}{Decode\-Hostname} (const std\-::string \&hostname)
\begin{DoxyCompactList}\small\item\em Decodes the specified hostname and returns the result, reverse the result of encoding a hostname. Encoding a hostname means, replacing all dots, with single bytes, that tell how many characters one needs to count further to get to the next dot. \end{DoxyCompactList}\item 
static unsigned short \hyperlink{class_senergy_1_1_dns_1_1_utils_a26ed8e47210810c24f8ab5a2588bf276}{Host\-To\-Network\-Byte\-Order} (unsigned short value)
\begin{DoxyCompactList}\small\item\em Converts the specified unsigned short value from host to network byte order. \end{DoxyCompactList}\item 
static unsigned short \hyperlink{class_senergy_1_1_dns_1_1_utils_aa4e117a17add157b5e9bcb5fada4ac49}{Network\-To\-Host\-Byte\-Order} (unsigned short value)
\begin{DoxyCompactList}\small\item\em Converts the specified unsigned short value from network to host byte order. \end{DoxyCompactList}\item 
static unsigned char \hyperlink{class_senergy_1_1_dns_1_1_utils_a952d70b6ddc617c92819eb2ad7e37f0d}{Host\-To\-Network\-Byte\-Order} (unsigned char value)
\begin{DoxyCompactList}\small\item\em Converts the specified unsigned character value from host to network byte order. \end{DoxyCompactList}\item 
static unsigned char \hyperlink{class_senergy_1_1_dns_1_1_utils_ac34288e7acfa54f6faaa775ab5654192}{Network\-To\-Host\-Byte\-Order} (unsigned char value)
\begin{DoxyCompactList}\small\item\em Converts the specified unsigned character value from network to host byte order. \end{DoxyCompactList}\item 
static unsigned int \hyperlink{class_senergy_1_1_dns_1_1_utils_a7a521aadbb12776e2127abe8028411dc}{Host\-To\-Network\-Byte\-Order} (unsigned int value)
\begin{DoxyCompactList}\small\item\em Converts the specified unsigned integer value from host to network byte order. \end{DoxyCompactList}\item 
static unsigned int \hyperlink{class_senergy_1_1_dns_1_1_utils_ad4711275abcbc1d332f3c0208e74c4b8}{Network\-To\-Host\-Byte\-Order} (unsigned int value)
\begin{DoxyCompactList}\small\item\em Converts the specified unsigned integer value from network to host byte order. \end{DoxyCompactList}\item 
static std\-::string \hyperlink{class_senergy_1_1_dns_1_1_utils_a81879edd7a9daec1d6dfbf952549c500}{Read\-Hostname\-From\-Buffer} (\hyperlink{class_senergy_1_1_byte_buffer}{Byte\-Buffer} \&buffer, bool decode=true)
\begin{DoxyCompactList}\small\item\em Reads a domain name from the specified buffer, also known as a 'Q\-N\-A\-M\-E'. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
Contains various utilities related to the D\-N\-S protocol. This are mostly functions that are used throughout the application. 

\begin{DoxyAuthor}{Author}
Swen Kooij (Photonios) 
\end{DoxyAuthor}


Definition at line 45 of file utils.\-h.



\subsection{Member Function Documentation}
\hypertarget{class_senergy_1_1_dns_1_1_utils_ad621e66ca0463aaa21c9b74b489f09f3}{\index{Senergy\-::\-Dns\-::\-Utils@{Senergy\-::\-Dns\-::\-Utils}!Decode\-Hostname@{Decode\-Hostname}}
\index{Decode\-Hostname@{Decode\-Hostname}!Senergy::Dns::Utils@{Senergy\-::\-Dns\-::\-Utils}}
\subsubsection[{Decode\-Hostname}]{\setlength{\rightskip}{0pt plus 5cm}std\-::string Senergy\-::\-Dns\-::\-Utils\-::\-Decode\-Hostname (
\begin{DoxyParamCaption}
\item[{const std\-::string \&}]{hostname}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{class_senergy_1_1_dns_1_1_utils_ad621e66ca0463aaa21c9b74b489f09f3}


Decodes the specified hostname and returns the result, reverse the result of encoding a hostname. Encoding a hostname means, replacing all dots, with single bytes, that tell how many characters one needs to count further to get to the next dot. 

www.\-google.\-com -\/$>$ 3www6google3com

The dots that are being replaced with numbers are N\-O\-T A\-S\-C\-I\-I. They are just single bytes. So, 3, is really 0x03.

So, this function reverse the above example\-:

3www6google3com -\/$>$ www.\-google.\-com


\begin{DoxyParams}{Parameters}
{\em hostname} & The hostname to decode.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The decoded hostname, if the specified hostname was empty, an empty string is returned. 
\end{DoxyReturn}


Definition at line 67 of file dns\-\_\-utils.\-cpp.

\hypertarget{class_senergy_1_1_dns_1_1_utils_a68f1ebf9810ecb225a4f73c4200778bf}{\index{Senergy\-::\-Dns\-::\-Utils@{Senergy\-::\-Dns\-::\-Utils}!Encode\-Hostname@{Encode\-Hostname}}
\index{Encode\-Hostname@{Encode\-Hostname}!Senergy::Dns::Utils@{Senergy\-::\-Dns\-::\-Utils}}
\subsubsection[{Encode\-Hostname}]{\setlength{\rightskip}{0pt plus 5cm}std\-::string Senergy\-::\-Dns\-::\-Utils\-::\-Encode\-Hostname (
\begin{DoxyParamCaption}
\item[{const std\-::string \&}]{hostname}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{class_senergy_1_1_dns_1_1_utils_a68f1ebf9810ecb225a4f73c4200778bf}


Encodes the specified hostname and returns the result. Encoding a hostname means, replacing all dots, with single bytes, that tell how many characters one needs to count further to get to the next dot. 

www.\-google.\-com -\/$>$ 3www6google3com

The dots that are being replaced with numbers are N\-O\-T A\-S\-C\-I\-I. They are just single bytes. So, 3, is really 0x03.


\begin{DoxyParams}{Parameters}
{\em hostname} & The hostname to encode.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The encoded hostname. If the specified hostname was empty, an empty string is returned. 
\end{DoxyReturn}


Definition at line 29 of file dns\-\_\-utils.\-cpp.

\hypertarget{class_senergy_1_1_dns_1_1_utils_a26ed8e47210810c24f8ab5a2588bf276}{\index{Senergy\-::\-Dns\-::\-Utils@{Senergy\-::\-Dns\-::\-Utils}!Host\-To\-Network\-Byte\-Order@{Host\-To\-Network\-Byte\-Order}}
\index{Host\-To\-Network\-Byte\-Order@{Host\-To\-Network\-Byte\-Order}!Senergy::Dns::Utils@{Senergy\-::\-Dns\-::\-Utils}}
\subsubsection[{Host\-To\-Network\-Byte\-Order}]{\setlength{\rightskip}{0pt plus 5cm}unsigned short Senergy\-::\-Dns\-::\-Utils\-::\-Host\-To\-Network\-Byte\-Order (
\begin{DoxyParamCaption}
\item[{unsigned short}]{value}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{class_senergy_1_1_dns_1_1_utils_a26ed8e47210810c24f8ab5a2588bf276}


Converts the specified unsigned short value from host to network byte order. 


\begin{DoxyParams}{Parameters}
{\em value} & The value to convert from host to network byte order.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The input value, in network byte order. 
\end{DoxyReturn}


Definition at line 101 of file dns\-\_\-utils.\-cpp.

\hypertarget{class_senergy_1_1_dns_1_1_utils_a952d70b6ddc617c92819eb2ad7e37f0d}{\index{Senergy\-::\-Dns\-::\-Utils@{Senergy\-::\-Dns\-::\-Utils}!Host\-To\-Network\-Byte\-Order@{Host\-To\-Network\-Byte\-Order}}
\index{Host\-To\-Network\-Byte\-Order@{Host\-To\-Network\-Byte\-Order}!Senergy::Dns::Utils@{Senergy\-::\-Dns\-::\-Utils}}
\subsubsection[{Host\-To\-Network\-Byte\-Order}]{\setlength{\rightskip}{0pt plus 5cm}unsigned char Senergy\-::\-Dns\-::\-Utils\-::\-Host\-To\-Network\-Byte\-Order (
\begin{DoxyParamCaption}
\item[{unsigned char}]{value}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{class_senergy_1_1_dns_1_1_utils_a952d70b6ddc617c92819eb2ad7e37f0d}


Converts the specified unsigned character value from host to network byte order. 


\begin{DoxyParams}{Parameters}
{\em value} & The value to convert from host to network byte order.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The input value, in network byte order. 
\end{DoxyReturn}


Definition at line 111 of file dns\-\_\-utils.\-cpp.

\hypertarget{class_senergy_1_1_dns_1_1_utils_a7a521aadbb12776e2127abe8028411dc}{\index{Senergy\-::\-Dns\-::\-Utils@{Senergy\-::\-Dns\-::\-Utils}!Host\-To\-Network\-Byte\-Order@{Host\-To\-Network\-Byte\-Order}}
\index{Host\-To\-Network\-Byte\-Order@{Host\-To\-Network\-Byte\-Order}!Senergy::Dns::Utils@{Senergy\-::\-Dns\-::\-Utils}}
\subsubsection[{Host\-To\-Network\-Byte\-Order}]{\setlength{\rightskip}{0pt plus 5cm}unsigned int Senergy\-::\-Dns\-::\-Utils\-::\-Host\-To\-Network\-Byte\-Order (
\begin{DoxyParamCaption}
\item[{unsigned int}]{value}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{class_senergy_1_1_dns_1_1_utils_a7a521aadbb12776e2127abe8028411dc}


Converts the specified unsigned integer value from host to network byte order. 


\begin{DoxyParams}{Parameters}
{\em value} & The value to convert from host to network byte order.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The input value, in network byte order. 
\end{DoxyReturn}


Definition at line 121 of file dns\-\_\-utils.\-cpp.

\hypertarget{class_senergy_1_1_dns_1_1_utils_aa4e117a17add157b5e9bcb5fada4ac49}{\index{Senergy\-::\-Dns\-::\-Utils@{Senergy\-::\-Dns\-::\-Utils}!Network\-To\-Host\-Byte\-Order@{Network\-To\-Host\-Byte\-Order}}
\index{Network\-To\-Host\-Byte\-Order@{Network\-To\-Host\-Byte\-Order}!Senergy::Dns::Utils@{Senergy\-::\-Dns\-::\-Utils}}
\subsubsection[{Network\-To\-Host\-Byte\-Order}]{\setlength{\rightskip}{0pt plus 5cm}unsigned short Senergy\-::\-Dns\-::\-Utils\-::\-Network\-To\-Host\-Byte\-Order (
\begin{DoxyParamCaption}
\item[{unsigned short}]{value}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{class_senergy_1_1_dns_1_1_utils_aa4e117a17add157b5e9bcb5fada4ac49}


Converts the specified unsigned short value from network to host byte order. 


\begin{DoxyParams}{Parameters}
{\em value} & The value to convert from network to host byte order.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The input value, in host byte order. 
\end{DoxyReturn}


Definition at line 106 of file dns\-\_\-utils.\-cpp.

\hypertarget{class_senergy_1_1_dns_1_1_utils_ac34288e7acfa54f6faaa775ab5654192}{\index{Senergy\-::\-Dns\-::\-Utils@{Senergy\-::\-Dns\-::\-Utils}!Network\-To\-Host\-Byte\-Order@{Network\-To\-Host\-Byte\-Order}}
\index{Network\-To\-Host\-Byte\-Order@{Network\-To\-Host\-Byte\-Order}!Senergy::Dns::Utils@{Senergy\-::\-Dns\-::\-Utils}}
\subsubsection[{Network\-To\-Host\-Byte\-Order}]{\setlength{\rightskip}{0pt plus 5cm}unsigned char Senergy\-::\-Dns\-::\-Utils\-::\-Network\-To\-Host\-Byte\-Order (
\begin{DoxyParamCaption}
\item[{unsigned char}]{value}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{class_senergy_1_1_dns_1_1_utils_ac34288e7acfa54f6faaa775ab5654192}


Converts the specified unsigned character value from network to host byte order. 


\begin{DoxyParams}{Parameters}
{\em value} & The value to convert from network to host byte order.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The input value, in host byte order. 
\end{DoxyReturn}


Definition at line 116 of file dns\-\_\-utils.\-cpp.

\hypertarget{class_senergy_1_1_dns_1_1_utils_ad4711275abcbc1d332f3c0208e74c4b8}{\index{Senergy\-::\-Dns\-::\-Utils@{Senergy\-::\-Dns\-::\-Utils}!Network\-To\-Host\-Byte\-Order@{Network\-To\-Host\-Byte\-Order}}
\index{Network\-To\-Host\-Byte\-Order@{Network\-To\-Host\-Byte\-Order}!Senergy::Dns::Utils@{Senergy\-::\-Dns\-::\-Utils}}
\subsubsection[{Network\-To\-Host\-Byte\-Order}]{\setlength{\rightskip}{0pt plus 5cm}unsigned int Senergy\-::\-Dns\-::\-Utils\-::\-Network\-To\-Host\-Byte\-Order (
\begin{DoxyParamCaption}
\item[{unsigned int}]{value}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{class_senergy_1_1_dns_1_1_utils_ad4711275abcbc1d332f3c0208e74c4b8}


Converts the specified unsigned integer value from network to host byte order. 


\begin{DoxyParams}{Parameters}
{\em value} & The value to convert from network to host byte order.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The input value, in host byte order. 
\end{DoxyReturn}


Definition at line 126 of file dns\-\_\-utils.\-cpp.

\hypertarget{class_senergy_1_1_dns_1_1_utils_a81879edd7a9daec1d6dfbf952549c500}{\index{Senergy\-::\-Dns\-::\-Utils@{Senergy\-::\-Dns\-::\-Utils}!Read\-Hostname\-From\-Buffer@{Read\-Hostname\-From\-Buffer}}
\index{Read\-Hostname\-From\-Buffer@{Read\-Hostname\-From\-Buffer}!Senergy::Dns::Utils@{Senergy\-::\-Dns\-::\-Utils}}
\subsubsection[{Read\-Hostname\-From\-Buffer}]{\setlength{\rightskip}{0pt plus 5cm}std\-::string Senergy\-::\-Dns\-::\-Utils\-::\-Read\-Hostname\-From\-Buffer (
\begin{DoxyParamCaption}
\item[{{\bf Byte\-Buffer} \&}]{buffer, }
\item[{bool}]{decode = {\ttfamily true}}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{class_senergy_1_1_dns_1_1_utils_a81879edd7a9daec1d6dfbf952549c500}


Reads a domain name from the specified buffer, also known as a 'Q\-N\-A\-M\-E'. 

A domain name in a D\-N\-S message is basiclly a string (but, see \hyperlink{class_senergy_1_1_dns_1_1_utils_a68f1ebf9810ecb225a4f73c4200778bf}{Utils\-::\-Encode\-Hostname} and \hyperlink{class_senergy_1_1_dns_1_1_utils_ad621e66ca0463aaa21c9b74b489f09f3}{Utils\-::\-Decode\-Hostname}), however, in a answer (resource record) the domain name could also be a 'pointer'. A pointer in a D\-N\-S message means a offset in the buffer where the domain name can be read. This is also known as 'message compression', this is defined in section 4.\-1.\-4 of R\-F\-C 1035.

This function detects whether it is a pointer or just a domain name, and reads both and returns the domain name.

\begin{DoxySeeAlso}{See Also}
Section 4.\-1.\-4 of R\-F\-C-\/1025 (\hyperlink{class_senergy_1_1_dns_1_1_message}{Message} compression).
\end{DoxySeeAlso}

\begin{DoxyParams}{Parameters}
{\em buffer} & The buffer to read the domain name from. \\
\hline
{\em decode} & An optional parameters that indicates whether the returned string should be decoded using the \hyperlink{class_senergy_1_1_dns_1_1_utils_ad621e66ca0463aaa21c9b74b489f09f3}{Utils\-::\-Decode\-Hostname} function or not. If set to true the returned hostname will be decoded, if set to false it will not be decoded. We use this parameter when reading a domain name pointer.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The domain name that was read from the buffer, or an empty string if something went wrong. 
\end{DoxyReturn}


Definition at line 131 of file dns\-\_\-utils.\-cpp.



The documentation for this class was generated from the following files\-:\begin{DoxyCompactItemize}
\item 
src/senergy/dns/\hyperlink{utils_8h}{utils.\-h}\item 
src/\hyperlink{dns__utils_8cpp}{dns\-\_\-utils.\-cpp}\end{DoxyCompactItemize}
